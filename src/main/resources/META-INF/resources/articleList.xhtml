<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="main.xhtml"
>

    <ui:define name="general_content">

        <p:panel header="Article list">

            <p:dataTable id="articleTable"
                         binding="#{table}"
                         value="#{articleController.list}"
                         var="article"
                         class="table table-striped table-hover table-bordered tableUpdated"
                         rows="10"
                         paginator="true"
                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
                         rowsPerPageTemplate="5,10,25,50"
                         sortMode="multiple"
                         emptyMessage="No article found">

                <f:facet name="{Exporters}">
                    <h:commandLink>
                        <h:graphicImage value="/images/icon/excel-icon.png" width="24"/>
                        <p:dataExporter type="xls" target="articleTable" fileName="articles" />
                    </h:commandLink>

                    <h:commandLink>
                        <h:graphicImage value="/images/icon/csv-icon.png" width="24"/>
                        <p:dataExporter type="csv" target="articleTable" fileName="articles" />
                    </h:commandLink>

                    <h:commandLink>
                        <h:graphicImage value="/images/icon/xml-icon.png" width="24"/>
                        <p:dataExporter type="xml" target="articleTable" fileName="articles" />
                    </h:commandLink>
                </f:facet>

                <p:column>
                    <f:facet name="header">Id</f:facet>
                    <h:outputText value="#{table.rowIndex + 1}" />
                </p:column>

                <p:column>
                    <f:facet name="header">Logical ID</f:facet>
                    <h:outputText value="#{article.logicalId}" />
                </p:column>

                <p:column>
                    <f:facet name="header">Name</f:facet>
                    <h:outputText value="#{article.name}" />
                </p:column>

                <p:column>
                    <f:facet name="header">Category</f:facet>
                    <h:outputText value="#{article.articleCategory.name}" />
                </p:column>

                <p:column>
                    <f:facet name="header">Type</f:facet>
                    <h:outputText value="#{article.articleType.name}" />
                </p:column>

                <p:column>
                    <f:facet name="header">Quantity</f:facet>
                    <h:outputText value="#{article.quantity}" />
                </p:column>

                <p:column>
                    <f:facet name="header">Warn Quantity</f:facet>
                    <h:outputText value="#{article.warnQuantity}" />
                </p:column>
                
                <p:column>
                    <f:facet name="header">Unit Of Measure</f:facet>
                    <h:outputText value="#{article.unitOfMeasure}" />
                </p:column>

                <p:column>
                    <f:facet name="header">Provider</f:facet>
                    <h:outputText value="#{article.provider.name}" />
                </p:column>

                <p:column>
                    <f:facet name="header">Provider price</f:facet>
                    <h:outputText value="#{article.providerPrice}" />
                </p:column>

                <p:column>
                    <f:facet name="header">Sale price</f:facet>
                    <h:outputText value="#{article.salePrice}" />
                </p:column>

                <p:column>
                    <f:facet name="header">Notes</f:facet>
                    <h:outputText value="#{article.notes}" />
                </p:column>
                <p:column>
                    <f:facet name="header">Created date</f:facet>
                    <h:outputText value="#{article.createdDate}" />
                </p:column>
                <p:column>
                    <f:facet name="header">Valid to date</f:facet>
                    <h:outputText value="#{article.endDate}" />
                </p:column>
                <p:column>
                    <f:facet name="header">Update</f:facet>
                    <h:commandButton action="#{articleController.edit(article)}"
                                     value="Edit"/>
                </p:column>
                <p:column>
                    <f:facet name="header">Delete</f:facet>
                    <h:commandButton action="#{articleController.remove(article)}"
                                     value="Delete"
                                     class="btn btn-danger"/>
                </p:column>
            </p:dataTable>

            <p:commandButton action="articleView"
                             value="Create New Article"
                             class="btn btn-success btnSpace" />

        </p:panel>

    </ui:define>
</ui:composition>